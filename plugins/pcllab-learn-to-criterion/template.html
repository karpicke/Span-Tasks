<!doctype html>
<html style="background: none transparent">

<head>
	<title>Learn to Criterion</title>

	<base href="/" target="_blank">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ"
	 crossorigin="anonymous">

	<!-- MDBootstrap -->
	<link rel="stylesheet" href="css/mdb.css">

	<link rel="stylesheet" href="css/jspsych.css">
	<link rel="stylesheet" href="css/pcllab-plugins.css">
</head>

<body style="background: none transparent">
	<div id="ec" class="p-2" style="background: transparent !important"></div>

	<!-- SCRIPTS -->
	<!-- jQuery first, then Bootstrap JS. -->
	<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	 crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
	 crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.3.2/js/mdb.min.js"></script>

	<!-- Then jsPsych -->
	<script src="jspsych.js"></script>

</body>

<script>

	function loadScripts(scripts, callback) {
		$scriptArray = scripts.map(script => $.getScript(script))
		$.when(
			...$scriptArray,
			$.Deferred(function (deferred) {
				$(deferred.resolve);
			})
		).done(callback)
	}

	function init(timeline, callback) {
		console.log(timeline)
		jsPsych.init({
			timeline: timeline,
			display_element: $("div#ec"),
			on_finish: function () {
				callback(jsPsych.data.getData())
			}
		});
	}

</script>

</html>